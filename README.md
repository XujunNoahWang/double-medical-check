# ğŸ©º Double Medical Check

ä¸€ä¸ªåŸºäº AI çš„åŒ»ç–—æ£€æµ‹æŠ¥å‘Šåˆ†æåº”ç”¨ï¼Œä½¿ç”¨ Google Gemini AI å¸®åŠ©ç”¨æˆ·ç†è§£å’Œåˆ†æåŒ»ç–—æ£€æµ‹ç»“æœã€‚

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/XujunNoahWang/double-medical-check&branch=deploy)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¤– AI æ™ºèƒ½åˆ†æ
- **å¤šæ¨¡æ€ AI**: ä½¿ç”¨ Google Gemini 2.5 Flash æ¨¡å‹è¿›è¡Œå›¾åƒè¯†åˆ«å’Œæ–‡æœ¬åˆ†æ
- **æ™ºèƒ½å»é‡**: è‡ªåŠ¨è¯†åˆ«å¹¶åˆå¹¶å¤šå¼ å›¾ç‰‡ä¸­çš„é‡å¤æ£€æµ‹é¡¹ç›®
- **ç»“æ„åŒ–è¾“å‡º**: å°†æ£€æµ‹ç»“æœæŒ‰ç±»åˆ«æ•´ç†ï¼ˆè¡€å¸¸è§„ã€ç”ŸåŒ–æ£€æŸ¥ã€å…ç–«æ£€æŸ¥ç­‰ï¼‰
- **å¼‚å¸¸æ ‡è¯†**: è‡ªåŠ¨æ ‡è¯†è¶…å‡ºæ­£å¸¸èŒƒå›´çš„æ£€æµ‹é¡¹ç›®

### ğŸ“Š æŠ¥å‘Šåˆ†æ
- **å¤šå›¾ç‰‡æ”¯æŒ**: ä¸€æ¬¡ä¸Šä¼ å¤šå¼ æŠ¥å‘Šå›¾ç‰‡ï¼ŒAI è‡ªåŠ¨æ•´åˆåˆ†æ
- **æ•°æ®æå–**: ç²¾ç¡®æå–æ£€æµ‹é¡¹ç›®åç§°ã€æ•°å€¼ã€å•ä½ã€å‚è€ƒèŒƒå›´
- **è¯Šæ–­å»ºè®®**: åŸºäºå¼‚å¸¸æŒ‡æ ‡æä¾›å¯èƒ½çš„è¯Šæ–­å»ºè®®å’Œæ³¨æ„äº‹é¡¹
- **å¯¹æ¯”åˆ†æ**: æ”¯æŒ AI è¯Šæ–­ä¸åŒ»ç”Ÿè¯Šæ–­çš„å¯¹æ¯”åˆ†æ

### ğŸŒ ç”¨æˆ·ä½“éªŒ
- **åŒè¯­æ”¯æŒ**: å®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢åˆ‡æ¢
- **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¾å¤‡
- **ç°ä»£ UI**: é‡‡ç”¨ Apple é£æ ¼çš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- **å¯ç‚¹å‡»æ ‡é¢˜**: ç‚¹å‡»åº”ç”¨æ ‡é¢˜å¿«é€Ÿè¿”å›ä¸»é¡µ
- **ä¸»é¢˜åˆ‡æ¢**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢

### ğŸš€ éƒ¨ç½²æ–¹æ¡ˆ
- **æœ¬åœ°å¼€å‘**: æ”¯æŒæœ¬åœ°å¿«é€Ÿå¯åŠ¨å’Œè°ƒè¯•
- **Vercel éƒ¨ç½²**: ä¸€é”®éƒ¨ç½²åˆ° Vercelï¼Œæ”¯æŒå…¨çƒ CDN åŠ é€Ÿ
- **æ— æœåŠ¡å™¨**: åŸºäº Serverless æ¶æ„ï¼Œè‡ªåŠ¨æ‰©å±•

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ¡†æ¶**: Python Flask 2.3.3
- **AI æ¨¡å‹**: Google Gemini 2.5 Flash Lite Preview
- **å›¾åƒå¤„ç†**: Pillow 10.0.1
- **è·¨åŸŸæ”¯æŒ**: Flask-CORS 4.0.0
- **ç¯å¢ƒç®¡ç†**: python-dotenv 1.0.0

### å‰ç«¯æŠ€æœ¯
- **æ ¸å¿ƒ**: HTML5 + CSS3 + Vanilla JavaScript
- **æ ·å¼**: CSS å˜é‡ + ç°ä»£ CSS ç‰¹æ€§
- **å›¾æ ‡**: Font Awesome 6.4.0
- **å­—ä½“**: SF Pro Display

### éƒ¨ç½²æŠ€æœ¯
- **å¹³å°**: Vercel Serverless Functions
- **é…ç½®**: vercel.json + Python Runtime
- **é™æ€èµ„æº**: Vercel CDN

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Google Gemini API Key ([è·å–åœ°å€](https://makersuite.google.com/app/apikey))

### æœ¬åœ°å¼€å‘

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/XujunNoahWang/double-medical-check.git
cd double-medical-check
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **é…ç½®ç¯å¢ƒå˜é‡**
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
GOOGLE_API_KEY=your_gemini_api_key_here
```

4. **å¯åŠ¨åº”ç”¨**
```bash
python start_app.py
```

5. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:8080
- åç«¯: http://localhost:5000

### Vercel éƒ¨ç½²

1. **Fork é¡¹ç›®** åˆ°ä½ çš„ GitHub è´¦æˆ·

2. **å¯¼å…¥åˆ° Vercel**
   - è®¿é—® [Vercel](https://vercel.com)
   - é€‰æ‹© "Import Git Repository"
   - é€‰æ‹© `deploy` åˆ†æ”¯

3. **é…ç½®ç¯å¢ƒå˜é‡**
   åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
   ```
   GOOGLE_API_KEY=your_gemini_api_key_here
   ```

4. **éƒ¨ç½²å®Œæˆ**
   Vercel ä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²åº”ç”¨

## ğŸ“– ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æµç¨‹
1. **ä¸Šä¼ æŠ¥å‘Š**: ç‚¹å‡»ä¸Šä¼ æŒ‰é’®æˆ–æ‹–æ‹½å›¾ç‰‡åˆ°ä¸Šä¼ åŒºåŸŸ
2. **å¼€å§‹åˆ†æ**: ç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®ï¼ŒAI å¼€å§‹å¤„ç†æŠ¥å‘Š
3. **æŸ¥çœ‹ç»“æœ**: æŸ¥çœ‹ç»“æ„åŒ–çš„åˆ†æç»“æœå’Œè¯Šæ–­å»ºè®®
4. **å¯¼å‡ºæŠ¥å‘Š**: å¯å¯¼å‡ºåˆ†æç»“æœä¸ºæ–‡æœ¬æ ¼å¼
5. **å¯¹æ¯”è¯Šæ–­**: å¯é€‰æ‹©è¾“å…¥åŒ»ç”Ÿè¯Šæ–­è¿›è¡Œ AI å¯¹æ¯”åˆ†æ

### æ”¯æŒçš„æŠ¥å‘Šç±»å‹
- âœ… **è¡€å¸¸è§„æ£€æŸ¥**: ç™½ç»†èƒã€çº¢ç»†èƒã€è¡€å°æ¿ç­‰
- âœ… **ç”ŸåŒ–æ£€æŸ¥**: è‚åŠŸèƒ½ã€è‚¾åŠŸèƒ½ã€è¡€ç³–ã€è¡€è„‚ç­‰
- âœ… **å…ç–«æ£€æŸ¥**: å„ç±»æŠ—ä½“ã€å…ç–«çƒè›‹ç™½ç­‰
- âœ… **å†…åˆ†æ³Œæ£€æŸ¥**: ç”²çŠ¶è…ºåŠŸèƒ½ã€æ¿€ç´ æ°´å¹³ç­‰
- ğŸ”„ **å½±åƒå­¦æ£€æŸ¥**: Xå…‰ã€CTã€MRIã€è¶…å£°ï¼ˆå³å°†æ”¯æŒï¼‰

### ä¸Šä¼ å»ºè®®
- ğŸ“¸ ç¡®ä¿å›¾ç‰‡æ¸…æ™°ï¼Œæ–‡å­—å¯è¯»
- ğŸ“„ æ”¯æŒ JPGã€PNGã€WEBP ç­‰æ ¼å¼
- ğŸ“Š å¯ä¸Šä¼ å¤šå¼ å›¾ç‰‡ï¼ŒAI ä¼šè‡ªåŠ¨æ•´åˆ
- ğŸ”’ æ³¨æ„ä¿æŠ¤ä¸ªäººéšç§ä¿¡æ¯

## ğŸ“ é¡¹ç›®ç»“æ„

```
double-medical-check/
â”œâ”€â”€ ğŸ“„ app.py                 # Flask ä¸»åº”ç”¨
â”œâ”€â”€ âš™ï¸ config.py              # åº”ç”¨é…ç½®
â”œâ”€â”€ ğŸ› ï¸ utils.py               # å·¥å…·å‡½æ•°
â”œâ”€â”€ ğŸŒ i18n.py                # å›½é™…åŒ–æ”¯æŒ
â”œâ”€â”€ ğŸ¤– promptsZH.py           # AI æç¤ºè¯æ¨¡æ¿
â”œâ”€â”€ ğŸ“ static/                # å‰ç«¯é™æ€æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ  index.html         # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ ğŸ¨ style.css          # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ âš¡ script.js          # å‰ç«¯è„šæœ¬
â”œâ”€â”€ ğŸ“ locales/               # å¤šè¯­è¨€æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ‡¨ğŸ‡³ zh.json           # ä¸­æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ ğŸ‡ºğŸ‡¸ en.json           # è‹±æ–‡ç¿»è¯‘
â”œâ”€â”€ ğŸ“ api/                   # Vercel å‡½æ•°
â”‚   â””â”€â”€ ğŸš€ index.py           # Vercel å…¥å£
â”œâ”€â”€ âš™ï¸ vercel.json            # Vercel é…ç½®
â”œâ”€â”€ ğŸ“‹ requirements.txt       # Python ä¾èµ–
â”œâ”€â”€ ğŸš€ start_app.py           # æœ¬åœ°å¯åŠ¨è„šæœ¬
â””â”€â”€ ğŸ“š VERCEL_DEPLOY.md       # éƒ¨ç½²æŒ‡å—
```

## ğŸ”§ API æ¥å£

### åˆ†ææŠ¥å‘Š
```http
POST /analyze
Content-Type: multipart/form-data

# ä¸Šä¼ å¤šå¼ å›¾ç‰‡æ–‡ä»¶
images: File[]
```

### å¯¹æ¯”è¯Šæ–­
```http
POST /compare
Content-Type: application/json

{
  "ai_diagnosis": "AIè¯Šæ–­ç»“æœ",
  "doctor_diagnosis": "åŒ»ç”Ÿè¯Šæ–­ç»“æœ"
}
```

### è¯­è¨€è®¾ç½®
```http
POST /set-language
Content-Type: application/json

{
  "language": "en" | "zh"
}
```

## âš ï¸ é‡è¦å£°æ˜

- ğŸ©º **åŒ»ç–—å…è´£**: æœ¬åº”ç”¨ä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—è¯Šæ–­
- ğŸ”’ **éšç§ä¿æŠ¤**: è¯·å‹¿ä¸Šä¼ åŒ…å«æ•æ„Ÿä¸ªäººä¿¡æ¯çš„æŠ¥å‘Š
- ğŸ“Š **å‡†ç¡®æ€§**: AI åˆ†æç»“æœå¯èƒ½å­˜åœ¨è¯¯å·®ï¼Œè¯·ä»¥åŒ»ç”Ÿè¯Šæ–­ä¸ºå‡†
- ğŸ¥ **å°±åŒ»å»ºè®®**: å¦‚æœ‰å¥åº·é—®é¢˜ï¼Œè¯·åŠæ—¶å°±åŒ»å’¨è¯¢ä¸“ä¸šåŒ»ç”Ÿ

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç å’Œå»ºè®®ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ”— ç›¸å…³é“¾æ¥

- [Google Gemini API](https://ai.google.dev/)
- [Vercel éƒ¨ç½²æ–‡æ¡£](https://vercel.com/docs)
- [Flask å®˜æ–¹æ–‡æ¡£](https://flask.palletsprojects.com/)

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Starï¼**

Made with â¤ï¸ by [XujunNoahWang](https://github.com/XujunNoahWang)

</div>
---

# 
ğŸ©º Double Medical Check (English)

An AI-powered medical test report analysis application that uses Google Gemini AI to help users understand and analyze medical test results.

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/XujunNoahWang/double-medical-check&branch=deploy)

## âœ¨ Features

### ğŸ¤– AI Intelligence
- **Multimodal AI**: Uses Google Gemini 2.5 Flash model for image recognition and text analysis
- **Smart Deduplication**: Automatically identifies and merges duplicate test items from multiple images
- **Structured Output**: Organizes test results by category (blood routine, biochemical tests, immunological tests, etc.)
- **Abnormal Detection**: Automatically identifies test items that exceed normal ranges

### ğŸ“Š Report Analysis
- **Multi-image Support**: Upload multiple report images at once, AI automatically integrates analysis
- **Data Extraction**: Precisely extracts test item names, values, units, and reference ranges
- **Diagnostic Suggestions**: Provides possible diagnostic suggestions and precautions based on abnormal indicators
- **Comparison Analysis**: Supports comparison between AI diagnosis and doctor's diagnosis

### ğŸŒ User Experience
- **Bilingual Support**: Complete Chinese-English interface switching
- **Responsive Design**: Adapts to desktop and mobile devices
- **Modern UI**: Apple-style modern interface design
- **Clickable Title**: Click app title to quickly return to homepage
- **Theme Toggle**: Supports light and dark theme switching

### ğŸš€ Deployment Options
- **Local Development**: Supports local quick start and debugging
- **Vercel Deployment**: One-click deployment to Vercel with global CDN acceleration
- **Serverless**: Based on Serverless architecture with automatic scaling

## ğŸ› ï¸ Tech Stack

### Backend Technologies
- **Framework**: Python Flask 2.3.3
- **AI Model**: Google Gemini 2.5 Flash Lite Preview
- **Image Processing**: Pillow 10.0.1
- **CORS Support**: Flask-CORS 4.0.0
- **Environment Management**: python-dotenv 1.0.0

### Frontend Technologies
- **Core**: HTML5 + CSS3 + Vanilla JavaScript
- **Styling**: CSS Variables + Modern CSS Features
- **Icons**: Font Awesome 6.4.0
- **Fonts**: SF Pro Display

### Deployment Technologies
- **Platform**: Vercel Serverless Functions
- **Configuration**: vercel.json + Python Runtime
- **Static Assets**: Vercel CDN

## ğŸš€ Quick Start

### Requirements
- Python 3.8+
- Google Gemini API Key ([Get here](https://makersuite.google.com/app/apikey))

### Local Development

1. **Clone the project**
```bash
git clone https://github.com/XujunNoahWang/double-medical-check.git
cd double-medical-check
```

2. **Install dependencies**
```bash
pip install -r requirements.txt
```

3. **Configure environment variables**
Create `.env` file:
```env
GOOGLE_API_KEY=your_gemini_api_key_here
```

4. **Start the application**
```bash
python start_app.py
```

5. **Access the application**
- Frontend: http://localhost:8080
- Backend: http://localhost:5000

### Vercel Deployment

1. **Fork the project** to your GitHub account

2. **Import to Vercel**
   - Visit [Vercel](https://vercel.com)
   - Select "Import Git Repository"
   - Choose the `deploy` branch

3. **Configure environment variables**
   Add in Vercel project settings:
   ```
   GOOGLE_API_KEY=your_gemini_api_key_here
   ```

4. **Deployment complete**
   Vercel will automatically build and deploy the application

## ğŸ“– Usage Guide

### Basic Workflow
1. **Upload Reports**: Click upload button or drag images to upload area
2. **Start Analysis**: Click "Start Analysis" button, AI begins processing reports
3. **View Results**: View structured analysis results and diagnostic suggestions
4. **Export Report**: Export analysis results in text format
5. **Compare Diagnosis**: Optionally input doctor's diagnosis for AI comparison analysis

### Supported Report Types
- âœ… **Blood Routine Tests**: White blood cells, red blood cells, platelets, etc.
- âœ… **Biochemical Tests**: Liver function, kidney function, blood sugar, blood lipids, etc.
- âœ… **Immunological Tests**: Various antibodies, immunoglobulins, etc.
- âœ… **Endocrine Tests**: Thyroid function, hormone levels, etc.
- ğŸ”„ **Imaging Tests**: X-ray, CT, MRI, ultrasound (coming soon)

### Upload Recommendations
- ğŸ“¸ Ensure images are clear with readable text
- ğŸ“„ Supports JPG, PNG, WEBP and other formats
- ğŸ“Š Can upload multiple images, AI will automatically integrate
- ğŸ”’ Pay attention to protecting personal privacy information

## ğŸ“ Project Structure

```
double-medical-check/
â”œâ”€â”€ ğŸ“„ app.py                 # Flask main application
â”œâ”€â”€ âš™ï¸ config.py              # Application configuration
â”œâ”€â”€ ğŸ› ï¸ utils.py               # Utility functions
â”œâ”€â”€ ğŸŒ i18n.py                # Internationalization support
â”œâ”€â”€ ğŸ¤– promptsZH.py           # AI prompt templates
â”œâ”€â”€ ğŸ“ static/                # Frontend static files
â”‚   â”œâ”€â”€ ğŸ  index.html         # Main page
â”‚   â”œâ”€â”€ ğŸ¨ style.css          # Style file
â”‚   â””â”€â”€ âš¡ script.js          # Frontend script
â”œâ”€â”€ ğŸ“ locales/               # Multi-language files
â”‚   â”œâ”€â”€ ğŸ‡¨ğŸ‡³ zh.json           # Chinese translations
â”‚   â””â”€â”€ ğŸ‡ºğŸ‡¸ en.json           # English translations
â”œâ”€â”€ ğŸ“ api/                   # Vercel functions
â”‚   â””â”€â”€ ğŸš€ index.py           # Vercel entry point
â”œâ”€â”€ âš™ï¸ vercel.json            # Vercel configuration
â”œâ”€â”€ ğŸ“‹ requirements.txt       # Python dependencies
â”œâ”€â”€ ğŸš€ start_app.py           # Local startup script
â””â”€â”€ ğŸ“š VERCEL_DEPLOY.md       # Deployment guide
```

## ğŸ”§ API Endpoints

### Analyze Reports
```http
POST /analyze
Content-Type: multipart/form-data

# Upload multiple image files
images: File[]
```

### Compare Diagnosis
```http
POST /compare
Content-Type: application/json

{
  "ai_diagnosis": "AI diagnosis result",
  "doctor_diagnosis": "Doctor's diagnosis result"
}
```

### Language Settings
```http
POST /set-language
Content-Type: application/json

{
  "language": "en" | "zh"
}
```

## âš ï¸ Important Disclaimers

- ğŸ©º **Medical Disclaimer**: This application is for reference only and cannot replace professional medical diagnosis
- ğŸ”’ **Privacy Protection**: Do not upload reports containing sensitive personal information
- ğŸ“Š **Accuracy**: AI analysis results may contain errors, please refer to doctor's diagnosis
- ğŸ¥ **Medical Advice**: If you have health problems, please seek medical attention and consult professional doctors promptly

## ğŸ¤ Contributing

Contributions and suggestions are welcome!

1. Fork the project
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details

## ğŸ”— Related Links

- [Google Gemini API](https://ai.google.dev/)
- [Vercel Documentation](https://vercel.com/docs)
- [Flask Documentation](https://flask.palletsprojects.com/)

---

<div align="center">

**If this project helps you, please give it a â­ Star!**

Made with â¤ï¸ by [XujunNoahWang](https://github.com/XujunNoahWang)

</div>